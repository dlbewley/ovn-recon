{"id":"ovn-recon-3fi","title":"Add Gravity Value Badge to Graph Nodes","description":"Add a small, dimmed gravity value badge displayed on each graph node to visually indicate the gravity score used for sorting.\n\nImplementation details:\n- Display the gravity value as a small badge/number on each node\n- Style should be dimmed/subtle (low opacity, muted color) so it doesn't interfere with node readability\n- Should show the actual gravity score calculated for that node\n- This will help verify that gravity sorting enhancements are working correctly\n- Badge should be positioned appropriately (e.g., top-right corner or bottom of node)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T19:57:20.069704-08:00","created_by":"dale","updated_at":"2026-01-05T19:59:10.261279-08:00","closed_at":"2026-01-05T19:59:10.261279-08:00","close_reason":"Closed"}
{"id":"ovn-recon-6v5","title":"Fix incorrect YAML tab link for cluster-scoped resources","description":"When viewing a CUDN (ClusterUserDefinedNetwork) graph node in the drawer, the Links tab has properly functioning links, but the YAML tab's \"View Resource in Console\" link is incorrect.\n\n**Current Behavior:**\n- Links tab: Uses `getResourceLinks()` which correctly checks for namespace and uses `/k8s/cluster` for cluster-scoped resources\n- YAML tab: Hardcodes `/k8s/ns/${namespace || 'default'}` which incorrectly adds a namespace component for cluster-scoped resources like CUDN\n\n**Expected Behavior:**\n- YAML tab should use the same logic as Links tab: check if namespace exists\n  - If namespace exists: `/k8s/ns/${namespace}`\n  - If no namespace (cluster-scoped): `/k8s/cluster`\n\n**Technical Details:**\n- Issue location: `src/components/NodeVisualization.tsx` line 1198\n- Current code: `/k8s/ns/${activeNode.raw.metadata?.namespace || 'default'}/`\n- Should use same pattern as `getResourceLinks()` function (line 71-79) which correctly handles cluster-scoped resources\n- CUDN is a cluster-scoped resource and should not have `/ns/namespace/` in the URL path","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T15:30:14.739515-08:00","created_by":"dale","updated_at":"2026-01-07T15:32:20.254954-08:00","closed_at":"2026-01-07T15:32:20.254954-08:00","close_reason":"Closed","comments":[{"id":3,"issue_id":"ovn-recon-6v5","author":"dale","text":"✅ FIXED: Updated YAML tab link to use same logic as Links tab:\n- Uses resourceRef if available (most consistent approach)\n- Falls back to checking namespace: if namespace exists uses /k8s/ns/{namespace}, otherwise uses /k8s/cluster for cluster-scoped resources\n- Fixes incorrect /k8s/ns/default path for CUDN (cluster-scoped resource)\n- Code now matches getResourceLinks() pattern","created_at":"2026-01-07T23:32:19Z"}]}
{"id":"ovn-recon-9bs","title":"Improve Drawer UX: Overlay drawer and enable diagram pan/zoom","description":"When viewing the details of a graph node, the Drawer component slides out from the right and causes the diagram visualization to shrink. \n\n**Current Behavior:**\n- The Drawer uses `isInline` prop which causes the content area to resize when the drawer expands\n- The SVG diagram shrinks to accommodate the drawer panel\n- Users cannot pan or zoom the diagram\n- Tab selection resets to 'summary' when clicking between different nodes\n\n**Desired Behavior:**\n1. ✅ **COMPLETED**: The drawer should slide over the diagram without resizing it (overlay mode) - Removed `isInline` prop, drawer now overlays content\n2. ✅ **COMPLETED**: Persist the selected tab when clicking a new graph node - If viewing YAML tab of one node and clicking another node, drawer should default to YAML tab (preserves tab selection when switching nodes)\n3. ✅ **COMPLETED**: Enable user interaction for resizing and moving/panning the diagram - Implemented pan/zoom with mouse wheel (Ctrl/Cmd + scroll), shift + drag for panning, and zoom control buttons\n4. ✅ **COMPLETED**: Consider adding zoom functionality for better navigation of large diagrams - Added zoom in/out/reset buttons, zoom level display, and smooth zoom towards mouse position\n\n**Technical Details:**\n- Current implementation in `src/components/NodeVisualization.tsx` uses `Drawer` component (line 1105)\n- The SVG is rendered inside `DrawerContentBody` (line 1107)\n- Changed drawer behavior from inline to overlay by removing `isInline` prop\n- Added `position: relative` to CardBody for proper overlay positioning\n- Modified `handleNodeClick` to preserve tab selection when switching between nodes (only resets to 'summary' when drawer first opens)\n- Implemented custom pan/zoom solution using SVG viewBox manipulation:\n  - Added pan/zoom state management (viewBox, zoomLevel, isPanning)\n  - Mouse wheel zoom with Ctrl/Cmd + scroll (zooms towards mouse position)\n  - Shift + drag for panning (prevents panning when clicking on nodes)\n  - Zoom control buttons (zoom in, zoom out, reset)\n  - Zoom level display showing current zoom percentage\n  - Zoom range: 10% to 500%","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T14:22:08.35481-08:00","created_by":"dale","updated_at":"2026-01-07T15:20:58.649379-08:00","closed_at":"2026-01-07T15:20:58.649379-08:00","close_reason":"Closed","comments":[{"id":1,"issue_id":"ovn-recon-9bs","author":"dale","text":"✅ Item 1 COMPLETED: Drawer now slides over diagram without resizing it. Removed `isInline` prop and added `position: relative` to CardBody for proper overlay positioning.","created_at":"2026-01-07T22:32:23Z"},{"id":2,"issue_id":"ovn-recon-9bs","author":"dale","text":"✅ Items 3 \u0026 4 COMPLETED: Implemented pan/zoom functionality:\n- Mouse wheel zoom (Ctrl/Cmd + scroll) with zoom towards mouse position\n- Shift + drag for panning (prevents panning when clicking nodes)\n- Zoom control buttons (zoom in/out/reset) with zoom level display\n- Zoom range: 10% to 500%\n- Custom implementation using SVG viewBox manipulation (no external dependencies)","created_at":"2026-01-07T22:42:09Z"}]}
{"id":"ovn-recon-dd7","title":"Improve OVS Interface Handling and Display","description":"Improve the handling and display of ovs-interfaces to reduce redundancy and improve clarity.\n\nCurrent Problem:\n- Both 'br-ex' ovs-bridge and 'br-ex' ovs-interface are appearing in the Bridges column\n- This creates visual redundancy and clutter\n- Users may not need to see the ovs-interface separately if its information can be consolidated\n\nProposed Solution (to be determined):\n- Investigate gathering details and metadata from ovs-interfaces\n- Display this information on the corresponding ovs-bridge node instead\n- Omit the ovs-interface from display (or move it to a different location)\n- This would consolidate related information and reduce visual clutter\n\nImplementation considerations:\n- Need to identify the relationship between ovs-bridge and ovs-interface (likely by name matching)\n- Extract relevant metadata/details from ovs-interface\n- Display this information in the bridge node's details/popover\n- Filter out ovs-interfaces from the Bridges column (or handle them differently)\n- Ensure no information is lost in the consolidation\n\nOpen questions:\n- What metadata/details from ovs-interface should be displayed on the bridge?\n- Should ovs-interfaces be completely hidden or moved to a different column?\n- How to handle cases where an ovs-interface exists without a corresponding bridge?\n- Should this apply to all ovs-interfaces or only those matching bridge names?","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-05T20:45:18.92961-08:00","created_by":"dale","updated_at":"2026-01-05T20:45:18.92961-08:00"}
{"id":"ovn-recon-knq","title":"Render inline YAML on graph node popups","description":"Render actual YAML content inline on graph node popups instead of just providing a link. Re-use the existing YAML view component from the OpenShift console SDK if available.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T10:58:10.307705-08:00","created_by":"dale","updated_at":"2026-01-07T14:07:00.479062-08:00","closed_at":"2026-01-07T14:07:00.479062-08:00","close_reason":"Closed"}
{"id":"ovn-recon-l2n","title":"Redesign Initial View and Header","description":"Redesign the initial view of the OVN Recon plugin to improve branding, space utilization, and navigation clarity.\n\nCurrent Shortcomings:\n1. Header shows 'Node Network State' with no indication that this is the OVN Recon plugin\n   - Users may not realize they're in a plugin context\n   - Missing plugin branding/identity\n\n2. View toggles take up too much vertical space within the diagram\n   - Toggles (e.g., 'Show hidden columns', 'Show Net Attach Defs') consume valuable diagram space\n   - Reduces available area for the network visualization\n   - Should be more compact or repositioned\n\n3. Breadcrumb view implies navigation via NodeNetworkState\n   - Current breadcrumb suggests users arrived from NodeNetworkState resource\n   - Should instead be a simple link to NodeNetworkState (if needed)\n   - Or remove breadcrumb entirely if not necessary for navigation\n\nProposed Solutions:\n1. Update header to clearly indicate OVN Recon plugin\n   - Add plugin name/branding to header\n   - Consider: 'OVN Recon - Network Topology' or similar\n   - Ensure it's clear this is a plugin view\n\n2. Optimize toggle placement and design\n   - Move toggles to a more compact location (e.g., top toolbar, side panel, or inline with header)\n   - Consider horizontal layout instead of vertical\n   - Use icon buttons or compact toggle switches\n   - Reduce vertical space consumption\n\n3. Redesign breadcrumb/navigation\n   - Remove breadcrumb if not needed for navigation\n   - Or replace with a simple link to NodeNetworkState resource\n   - Ensure navigation doesn't imply a specific entry point\n\nImplementation considerations:\n- Review current header implementation in NodeNetworkStateDetails component\n- Assess toggle component placement and styling\n- Evaluate breadcrumb necessity and redesign options\n- Consider overall plugin branding and user experience\n- Ensure changes maintain accessibility and usability","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-06T11:25:12.322879-08:00","created_by":"dale","updated_at":"2026-01-06T11:25:12.322879-08:00"}
{"id":"ovn-recon-n5c","title":"Rethink Gravity Algorithm for Edge Crossing Minimization","description":"Redesign the gravity calculation algorithm to minimize edge crossings in the graph visualization.\n\nCurrent Problem:\n- Current gravity is based on connection count, which doesn't consider visual layout\n- Nodes in connected paths (e.g., ens192 -\u003e br-ex -\u003e physnet -\u003e machinenet CUDN -\u003e machinenet NAD) should be aligned vertically at the top of their respective columns\n- This will prevent edges from crossing other edges\n\nProposed Solution:\n1. Identify connected paths/chains through the graph (especially primary/long paths)\n2. Assign lower gravity (higher priority) to nodes that are part of longer connected paths\n3. Use a path-aware algorithm that considers:\n   - Path length (longer paths get priority)\n   - Position in path (earlier nodes in path get priority)\n   - Or use a topological sort that considers graph structure\n\nImplementation approach:\n- Build a graph representation of all connections\n- Identify primary paths (longest paths, or paths with most connections)\n- Calculate path-based gravity: nodes in longer paths get lower gravity\n- Fallback to connection-count gravity for nodes not in identified paths\n- Ensure nodes in the same path align vertically (same Y position across columns)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T20:22:40.711942-08:00","created_by":"dale","updated_at":"2026-01-07T10:54:06.128329-08:00","closed_at":"2026-01-07T10:54:06.128329-08:00","close_reason":"Closed"}
{"id":"ovn-recon-qpv","title":"Gravity sorting\n","description":"Add gravity score to graph nodes to enable sorting of columns.\n","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-05T19:37:18.735526-08:00","created_by":"dale","updated_at":"2026-01-05T19:40:23.727711-08:00"}
{"id":"ovn-recon-x7x","title":"Enhance Gravity Sort","description":"Enhance gravity sorting to favor bridge 'br-ex' and bridge mappings by decrementing their gravity scores by 1. This will prioritize these nodes in the sorted display.\n\nImplementation details:\n- Decrement gravity by 1 for bridge 'br-ex' (lower gravity = higher priority)\n- Decrement gravity by 1 for all bridge mappings (lower gravity = higher priority)\n- This should be applied after the initial gravity calculation but before sorting","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T19:49:29.06085-08:00","created_by":"dale","updated_at":"2026-01-05T19:51:48.407912-08:00","closed_at":"2026-01-05T19:51:48.407912-08:00","close_reason":"Closed"}
